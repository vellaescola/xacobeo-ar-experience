<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <style>
      #ui-panel {
        position: fixed; bottom: 20px; left: 50%; transform: translateX(-50%);
        width: 90%; background: rgba(0, 0, 0, 0.8); color: white;
        padding: 15px; border-radius: 10px; font-family: sans-serif; z-index: 100;
      }
      .control-group { margin-bottom: 10px; display: flex; align-items: center; }
      label { width: 80px; font-size: 12px; }
      input { flex: 1; }
      button { background: #6200ee; color: white; border: none; padding: 10px; width: 100%; border-radius: 5px; margin-top: 5px; }
    </style>
  </head>
  <body>
    <div id="ui-panel">
      <div class="control-group">
        <label>Posición X</label>
        <input type="range" id="posX" min="-2" max="2" step="0.01" value="0">
      </div>
      <div class="control-group">
        <label>Rotación Y</label>
        <input type="range" id="rotY" min="0" max="360" step="1" value="0">
      </div>
      <div class="control-group">
        <label>Escala</label>
        <input type="range" id="scale" min="0.1" max="5" step="0.1" value="1">
      </div>
      <button onclick="copyCode()">Guardar y Copiar Código</button>
    </div>

    <a-scene background="color: #1a1a2e">
      <a-assets>
        <a-asset-item id="silla" src="./chair+3d+model.glb"></a-asset-item>
        <img id="targetImg" src="URL_DE_TU_FOTO_ROCK"> 
      </a-assets>

      <a-plane position="0 0 0" rotation="-90 0 0" width="1" height="1" src="#targetImg" opacity="0.8"></a-plane>
      <a-grid-helper size="10" divisions="10"></a-grid-helper>

      <a-entity id="modelo-editor" gltf-model="#silla" position="0 0 0" rotation="0 0 0" scale="1 1 1"></a-entity>

      <a-camera position="0 1.5 3" look-controls></a-camera>
    </a-scene>

    <script>
      const modelo = document.querySelector('#modelo-editor');
      const inputs = {
        posX: document.querySelector('#posX'),
        rotY: document.querySelector('#rotY'),
        scale: document.querySelector('#scale')
      };

      // Actualización en tiempo real
      Object.values(inputs).forEach(input => {
        input.addEventListener('input', () => {
          modelo.setAttribute('position', `${inputs.posX.value} 0 0`);
          modelo.setAttribute('rotation', `0 ${inputs.rotY.value} 0`);
          modelo.setAttribute('scale', `${inputs.scale.value} ${inputs.scale.value} ${inputs.scale.value}`);
        });
      });

      function copyCode() {
        const code = `position="${inputs.posX.value} 0 0" rotation="0 ${inputs.rotY.value} 0" scale="${inputs.scale.value} ${inputs.scale.value} ${inputs.scale.value}"`;
        navigator.clipboard.writeText(code);
        alert("Configuración copiada al portapapeles:\n" + code);
      }
    </script>
  </body>
</html>
